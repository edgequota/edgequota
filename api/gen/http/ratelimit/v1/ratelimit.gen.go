// Package ratelimitv1http provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package ratelimitv1http

// Defines values for BackendProtocol.
const (
	BackendProtocolEmpty BackendProtocol = ""
	BackendProtocolH1    BackendProtocol = "h1"
	BackendProtocolH2    BackendProtocol = "h2"
	BackendProtocolH3    BackendProtocol = "h3"
)

// Defines values for FailurePolicy.
const (
	FailurePolicyEmpty            FailurePolicy = ""
	FailurePolicyFailclosed       FailurePolicy = "failclosed"
	FailurePolicyInmemoryFallback FailurePolicy = "inmemory_fallback"
	FailurePolicyPassthrough      FailurePolicy = "passthrough"
)

// BackendProtocol Selects the outbound protocol EdgeQuota uses to reach the backend.
// An empty string means "use the static config".
// gRPC traffic always uses h2 regardless of this setting.
type BackendProtocol string

// FailurePolicy Controls EdgeQuota's behaviour when Redis is unavailable.
// The external rate-limit service can override the static config on a
// per-request basis by returning one of these values.
type FailurePolicy string

// GetLimitsRequest Identifies the client and context for limit lookup.
type GetLimitsRequest struct {
	// Headers Flattened request headers for context.
	Headers map[string]string `json:"headers"`

	// Method HTTP method.
	Method string `json:"method"`

	// Path Request path.
	Path string `json:"path"`
}

// GetLimitsResponse Rate limit parameters and optional cache/override directives.
type GetLimitsResponse struct {
	// Average Maximum number of requests per period (0 = unlimited).
	Average int64 `json:"average"`

	// BackendProtocol Selects the outbound protocol EdgeQuota uses to reach the backend.
	// An empty string means "use the static config".
	// gRPC traffic always uses h2 regardless of this setting.
	BackendProtocol *BackendProtocol `json:"backend_protocol,omitempty"`

	// BackendUrl Backend URL override (optional). When non-empty, EdgeQuota proxies
	// this request to the given URL instead of the static backend.url.
	BackendUrl *string `json:"backend_url,omitempty"`

	// Burst Maximum burst size.
	Burst int64 `json:"burst"`

	// CacheMaxAgeSeconds Cache duration in seconds. When present and > 0, overrides the
	// default cache TTL.
	CacheMaxAgeSeconds *int64 `json:"cache_max_age_seconds,omitempty"`

	// CacheNoStore If true, the response must not be cached.
	CacheNoStore *bool `json:"cache_no_store,omitempty"`

	// FailureCode Override HTTP status code for failclosed policy (e.g. 503).
	// 0 = use static config.
	FailureCode *int32 `json:"failure_code,omitempty"`

	// FailurePolicy Controls EdgeQuota's behaviour when Redis is unavailable.
	// The external rate-limit service can override the static config on a
	// per-request basis by returning one of these values.
	FailurePolicy *FailurePolicy `json:"failure_policy,omitempty"`

	// Period Duration string (e.g. "1s", "1m").
	Period string `json:"period"`

	// RequestTimeout Per-request timeout override (optional). Duration string (e.g. "10s").
	// When non-empty, overrides the global server.request_timeout.
	RequestTimeout *string `json:"request_timeout,omitempty"`

	// TenantKey Tenant key for Redis bucket isolation (optional). When non-empty,
	// EdgeQuota uses this as the rate-limit key instead of the extracted key.
	TenantKey *string `json:"tenant_key,omitempty"`
}

// GetLimitsJSONRequestBody defines body for GetLimits for application/json ContentType.
type GetLimitsJSONRequestBody = GetLimitsRequest
