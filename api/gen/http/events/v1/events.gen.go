// Package eventsv1http provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package eventsv1http

// PublishEventsRequest Batch of usage events sent by EdgeQuota.
type PublishEventsRequest struct {
	Events []UsageEvent `json:"events"`
}

// PublishEventsResponse Acknowledgement of received events.
type PublishEventsResponse struct {
	// Accepted Number of events accepted.
	Accepted int64 `json:"accepted"`
}

// UsageEvent A single rate-limit decision.
type UsageEvent struct {
	// Allowed Whether the request was allowed.
	Allowed bool `json:"allowed"`

	// Key Rate limit bucket key.
	Key string `json:"key"`

	// Limit Configured limit (burst).
	Limit int64 `json:"limit"`

	// Method HTTP method.
	Method string `json:"method"`

	// Path Request path.
	Path string `json:"path"`

	// Reason Non-empty for anomaly events (e.g. "tenant_key_rejected").
	Reason *string `json:"reason,omitempty"`

	// Remaining Remaining tokens after this decision.
	Remaining int64 `json:"remaining"`

	// RequestId X-Request-Id for event deduplication and correlation.
	// Enables idempotent event processing in downstream systems.
	RequestId *string `json:"request_id,omitempty"`

	// StatusCode HTTP status code returned.
	StatusCode int32 `json:"status_code"`

	// TenantKey Tenant key (if assigned by external rate limit service).
	TenantKey *string `json:"tenant_key,omitempty"`

	// Timestamp RFC 3339 timestamp.
	Timestamp string `json:"timestamp"`
}

// PublishEventsJSONRequestBody defines body for PublishEvents for application/json ContentType.
type PublishEventsJSONRequestBody = PublishEventsRequest
